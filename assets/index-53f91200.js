import{r as u,a as q,d as x,L as R,N as f,O as A,u as _,A as F,b as U,c as B,R as H}from"./vendor-bdf49d80.js";import{Q as K,u as N,a as G}from"./@tanstack/react-query-9740b58f.js";import{R as W}from"./@tanstack/react-query-devtools-fa809e6e.js";import{c as O,u as L,f as v,g as M,a as Y,b as D,d as J}from"./@tanstack/react-table-96fdeec2.js";import{r as E}from"./@tanstack/match-sorter-utils-120d5a33.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var h={},X={get exports(){return h},set exports(t){h=t}},m={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=u,ee=Symbol.for("react.element"),te=Symbol.for("react.fragment"),re=Object.prototype.hasOwnProperty,ne=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oe={key:!0,ref:!0,__self:!0,__source:!0};function S(t,r,s){var i,n={},o=null,c=null;s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(c=r.ref);for(i in r)re.call(r,i)&&!oe.hasOwnProperty(i)&&(n[i]=r[i]);if(t&&t.defaultProps)for(i in r=t.defaultProps,r)n[i]===void 0&&(n[i]=r[i]);return{$$typeof:ee,type:t,key:o,ref:c,props:n,_owner:ne.current}}m.Fragment=te;m.jsx=S;m.jsxs=S;(function(t){t.exports=m})(X);const g=h.Fragment,e=h.jsx,a=h.jsxs;var C={},b=q;C.createRoot=b.createRoot,C.hydrateRoot=b.hydrateRoot;const P=new K({defaultOptions:{queries:{staleTime:1e3*10}}}),ie=async t=>(await(await fetch(`https://restcountries.com/v3.1/region/${t}?fields=name`)).json()).map(({name:i})=>i),ae=async t=>await(await fetch(`http://universities.hipolabs.com/search?country=${t}`)).json(),k=t=>({queryKey:["countries",t],queryFn:async()=>await ie(t||"asia"),options:{staleTime:1e4}}),j=t=>({queryKey:["country-details",t],queryFn:async()=>await ae(t||""),options:{staleTime:1e4}});async function se(){return x({countriesName:P.fetchQuery(k("asia"))})}async function le({params:t}){return x({universities:P.fetchQuery(j(t.id))})}const ce=()=>a(g,{children:[e("header",{children:a("nav",{children:[e(R,{to:"/",children:e("h2",{children:"University finder"})}),a("ul",{children:[e("li",{children:e(f,{to:"/",children:"Countries"})}),e("li",{children:e(f,{to:"/blog",children:"Blog"})}),e("li",{children:e(f,{to:"/profile",children:"Profile"})})]})]})}),e("main",{children:e(A,{})}),e("footer",{children:a("span",{children:["Â© Kiran ",new Date().getFullYear()]})})]}),V=()=>e("div",{className:"loading-container",children:e("div",{className:"loader",children:"Loading..."})}),I=({table:t})=>a("div",{className:"pagination",children:[e("button",{onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:"<<"}),e("button",{onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:"<"}),e("button",{onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:">"}),e("button",{onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:">>"})]}),y=O(),w=(t,r,s,i)=>{const n=E(t.getValue(r),s);return i({itemRank:n}),n.passed},de=[y.accessor("common",{cell:t=>t.getValue(),header:()=>e("span",{children:"Common Name"}),size:140}),y.accessor(t=>t.official,{id:"official",header:()=>e("span",{children:"Official Name"})}),y.accessor(t=>t.common,{id:"action",cell:t=>e(R,{to:`/${t.getValue()}`,children:"Visit"}),header:()=>e("span",{children:"Action"}),size:80})],ue=()=>{const[t,r]=u.useState(""),[s,i]=u.useState("asia"),{data:n}=N(k(s)),o=L({data:n||[],columns:de,filterFns:{fuzzy:w},state:{globalFilter:t},onGlobalFilterChange:r,globalFilterFn:w,getCoreRowModel:M(),getFilteredRowModel:Y(),getPaginationRowModel:D(),getFacetedRowModel:J()}),c=u.useMemo(()=>[...o.getHeaderGroups()].pop(),[]);return a("div",{children:[a("div",{className:"search-section",children:[e("input",{type:"text",value:t??"",onChange:l=>r(l.target.value),placeholder:"Search all columns..."}),a("select",{name:"continent",value:s,onChange:l=>i(l.target.value),children:[e("option",{value:"asia",children:"Asia"}),e("option",{value:"europe",children:"Europe"})]})]}),a("table",{children:[e("colgroup",{children:c==null?void 0:c.headers.map(({getSize:l,id:d})=>e("col",{width:l()===150?"":l()},d))}),e("thead",{children:o.getHeaderGroups().map(({headers:l,id:d})=>e("tr",{children:l.map(({column:Q,getContext:z,id:$,isPlaceholder:T})=>e("th",{children:T?null:v(Q.columnDef.header,z())},$))},d))}),e("tbody",{children:o.getRowModel().rows.map(l=>e("tr",{children:l.getVisibleCells().map(d=>e("td",{children:v(d.column.columnDef.cell,d.getContext())},d.id))},l.id))}),e("tfoot",{children:a("tr",{children:[e("td",{children:a("span",{children:["Page"," ",a("strong",{children:[o.getState().pagination.pageIndex+1," of"," ",o.getPageCount()]})]})}),e("td",{}),e("td",{children:e(I,{table:o})})]})})]})]})},he=()=>{const t=_();return e(g,{children:e(u.Suspense,{fallback:e(V,{}),children:e(F,{resolve:t.countriesName,errorElement:e("div",{children:"Oops!"}),children:e(ue,{})})})})},pe=(t,r,s,i)=>{const n=E(t.getValue(r),s);return i({itemRank:n}),n.passed},p=O(),me=[p.accessor("name",{id:"Name",cell:t=>t.getValue(),header:()=>e("span",{children:"University"})}),p.accessor(t=>t["state-province"],{id:"State",cell:t=>t.getValue()??e("i",{children:"Not available"}),header:()=>e("span",{children:"State"})}),p.accessor(t=>t.alpha_two_code,{id:"Country code",cell:t=>t.getValue(),header:()=>e("span",{children:"Country Code"})}),p.accessor("web_pages",{id:"Website",cell:t=>t.getValue().map(r=>e(R,{to:r,target:"_blank",rel:"noopener noreferrer",children:r},r)),header:()=>e("span",{children:"Province"})})],ge=()=>{const{id:t}=U(),{data:r,isLoading:s}=N(j(t));if(r&&r.length===0)return a("p",{children:["No record found for ",t]});const i=L({data:r||[],columns:me,getCoreRowModel:M(),getPaginationRowModel:D(),filterFns:{fuzzy:pe}});return a(g,{children:[e("ul",{children:i.getRowModel().rows.map(n=>e("li",{children:n.getVisibleCells().map(o=>a("p",{children:[a("strong",{children:[o.column.id,":"]})," ",v(o.column.columnDef.cell,o.getContext())]},o.id))},n.id))}),s?null:e(I,{table:i})]})},fe=()=>{const t=_();return e(g,{children:e(u.Suspense,{fallback:e(V,{}),children:e(F,{resolve:t.universities,errorElement:e("div",{children:"Oops!"}),children:e(ge,{})})})})},ye=B([{path:"/",element:e(ce,{}),children:[{path:"/",element:e(he,{}),loader:se},{path:"/:id",element:e(fe,{}),loader:le},{path:"/blog",element:e("span",{children:"Blog page"})},{path:"/profile",element:e("span",{children:"Profile page"})}]}]);C.createRoot(document.getElementById("root")).render(e(u.StrictMode,{children:a(G,{client:P,children:[e(H,{router:ye}),e(W,{initialIsOpen:!1})]})}));
